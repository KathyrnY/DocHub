<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
   <link rel="stylesheet" href="/css/chart.css"/>
    <link rel="stylesheet" href="/css/date-picker.css" />
<title>Patient Chart</title>
</head>
<body class="body">

{{!-- {{#each patientDetails}} --}}
<div class="card">
  {{!-- {{} chartData as |patientDetails|}} --}}
    <div class="card-body">
      <div class="patient-data">
        <h2>Patient ID: {{healthExtData.id}}</h2>
        <h3>Name: {{healthExtData.first_name}} {{healthExtData.last_name}}</h3>
        <h3>Gender: {{healthExtData.gender}}</h3>
        <h3>Age: {{healthExtData.age}}</h3>
        <h3>Race: {{healthExtData.race}}</h3>
        <h3>Insurance: {{healthExtData.insurancename}}</h3>
        <h3>Occupation: {{healthExtData.occupation}}</h3>
        <h3>Address: {{healthExtData.street_address}}</h3>
        <h3>Phone #: {{healthExtData.phoneno}}</h3>
      </div>
    </div>
  {{!-- {{/if}} --}}

    {{#if this.healthExtData}}
    <div class="card-body">
        {{#each healthExtData.healthdetailsexts}}
        <div class="health-details-ext">
            <h3>Condition: {{this.condition}}</h3>
            <h3>Allergies: {{this.type}}</h3>
        </div>
        {{/each}}
    </div>
    {{/if}}

    {{#if this.testResultsData}}
    <div class="card-body">
        {{#each testResultsData.TestResults}}
        <div class="test-results">
            <h3>Test Name: {{this.testname}}</h3>
            <h3>Test Results: {{this.testresults}}</h3>
            <h3>Doctor's Comments: {{this.doctorscomments}}</h3>
        </div>
        {{/each}}
    </div>
    {{/if}}

    {{#if this.healthData}}
    <div class="card-body">
        {{#each healthData.healthdetails}}
        <div class="health-details">
            <h3>Progress Notes: {{this.progressnotes}}</h3>
            <h3>Evaluation and Plan: {{this.evaluationandplan}}</h3>
            <h3>Prescription Details: {{this.prescriptiondetails}}</h3>
        </div>
        {{/each}}
    </div>
    {{/if}}
    {{#if this.commentData}}
    <div class="card-body">
         {{#each commentData.patient_comments}}
           <div class="comment-info">
            <h4>Appointment Comment: {{this.comment_text}}</h4>
            <h7>Created At: {{this.createdAt}}</h7>
           </div>
           {{/each}}
    </div>
    {{/if}}
</div>



    </div>
<!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" id="comment">
    Add Comments
  </button>
  
  <button type="button" class="btn btn-primary"  id="newappt" data-bs-toggle="modal" data-bs-target="#apptModal">
    + Add New Appointment
  </button>

  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" >
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Comments</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <input type="text" name="comments" class="border border-none">
          {{comments}}
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button id= "saveBtn" type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>
</div>

  <!-- Modal for date picker-->
  <div class="modal fade" id="apptModal" tabindex="-1" aria-labelledby="apptModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" >
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="apptModalLabel">Please Pick a Date and Time</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
         <form action="/action_page.php">
            <label for="time">Choose ur Appt date and time</label>
            <input type="text" class="date-picker" id="date" />
            <select id="time" name="time">
              <option value="8:00">8:00</option>
              <option value="8:30">8:30</option>
              <option value="9:00">9:00</option>
              <option value="9:30">9:30</option>
              <option value="10:00">10:00</option>
              <option value="10:30">10:30</option>
              <option value="11:00">11:00</option>
              <option value="11:30">11:30</option>
              <option value="12:00">12:00</option>
              <option value="12:30">12:30</option>
              <option value="13:00">1:00</option>
              <option value="13:30">1:30</option>
              <option value="14:00">2:00</option>
              <option value="14:30">2:30</option>
              <option value="15:00">3:00</option>
              <option value="15:30">3:30</option>
              <option value="16:00">4:00</option>
              <option value="16:30">4:30</option>
              <option value="17:00">5:00</option>
              <option value="17:30">5:30</option>
              <option value="18:00">6:00</option>
              <option value="18:30">6:30</option>
            </select>
        </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button id= "Apptsubmit" type="button" class="btn btn-primary" data-bs-dismiss="modal">Submit</button>
        </div>
      </div>
    </div>
  </div>
</div>

    <div class="container mt-3">
      <button id = "backBtn" type="button" class="btn btn-primary">Back</button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
    <script src="/js/patientchart.js"></script>
  <script src="/js/date-picker.js"></script>
</body>
</html>